<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Meal Protein Analyzer</title>
  <link rel="stylesheet" href="styles.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<!-- Google tag (gtag.js) --> 
 <script async src="https://www.googletagmanager.com/gtag/js?id=G-SW204HG4RB"></script> 
 <script> window.dataLayer = window.dataLayer || []; 
 function gtag(){dataLayer.push(arguments);} 
 gtag('js', new Date()); 
 gtag('config', 'G-SW204HG4RB'); 
 </script>
</head>
<body>
  <header class="site-header">
    <div class="container">
      <div class="logo">
        <img src="images/logo.png" alt="LoveProtein" />
      </div>
      <nav class="nav-menu">
        <a href="protein.html">Protein Matters</a>  
        <a href="index.html">How It Works</a>
        <a href="analyse.html">Meal Analysis</a>
      </nav>
    </div>
  </header>

  <section class="upload-box" id="upload">
    <p>Upload a picture of your meal to get started</p>
    <input type="file" id="mealImage" accept="image/*" />
    <button class="cta-button secondary" onclick="document.getElementById('mealImage').click()">Choose Image</button>
    <button class="cta-button tertiary" onclick="analyzeImage()">Analyze Meal</button>
    <div id="imagePreviewContainer">
      <img id="imagePreview" src="" alt="Image preview" style="display: none; max-width: 100%; margin-top: 1em;" />
    </div>
  </section>

  <section class="meal-results" id="results">
    <h2>Meal Analysis</h2>
    <table id="mealTable">
      <thead>
        <tr>
          <th>Food Item</th>
          <th>Weight (g)</th>
          <th>Protein (g)</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody id="mealTableBody">
        <!-- Dynamically added rows will go here -->
      </tbody>
    </table>
    <button class="cta-button" onclick="addRow()">Add Food Item</button>
    <p class="total-protein">Total Protein: <span id="totalProtein">0</span> g</p>

    <details style="margin-top: 2rem; font-size: 0.85rem; font-style: italic; color: #5F3E2A;">
      <summary>All values reflect cooked weight, unless clearly noted (e.g., raw tomato), to match real-world usage. Protein values were sourced and generalized from authoritative and standardized nutrition references, mainly:</summary>
      <ul style="padding-left: 1.2rem; margin-top: 0.5rem;">
        <li>USDA FoodData Central</li>
        <li>NHS / UK Food Standards Agency</li>
        <li>Harvard and Mayo Clinic nutrition guides</li>
        <li>Peer-reviewed nutrition datasets (e.g., nutritionvalue.org and nutritionix APIs used as references when USDA data is missing or region-specific)</li>
        <li>All values reflect cooked weight, unless clearly noted (e.g., raw tomato), to match real-world usage.</li>
      </ul>
    </details>
    

  </section>
  

  <section class="cta-box" id="user-info">
    <h2>Your Daily Protein Goal</h2>
    <form id="userForm">
      <input type="number" id="age" placeholder="Your age" required />
      <select id="gender">
        <option value="male">Male</option>
        <option value="female">Female</option>
      </select>
      <input type="number" id="weight" placeholder="Your weight (kg)" required />
      <select id="activity">
        <option value="0.8">Sedentary — Little to no exercise</option>
        <option value="1.0">Slightly Active — Light exercise 1–2 days/week</option>
        <option value="1.2">Moderately Active — Moderate exercise 3–5 days/week</option>
        <option value="1.4">Very Active — Hard exercise 6–7 days/week</option>
        <option value="1.8">Athlete — Intense exercise daily or 2x/day training</option>
      </select>
      
    </form>
    <button class="cta-button" id="goalButton" onclick="setGoal()">Set Goal</button>
    <p id="proteinGoal">Recommended Daily Protein: 0 g</p>
    <p id="remainingProtein"></p>
  
    <!-- Progress bar inside this section -->
    <div class="progress-container within-user-box">
      <div class="progress-label">Protein Intake Progress</div>
      <div class="progress-bar">
        <div class="progress-bar-fill" id="proteinProgress" style="width: 0%"></div>
      </div>
    </div>
  </section>
  


  <script src="script.js"></script>



</body>
</html>
